name: Buildah Build Image Snippet
on: [push]

jobs:
  build-image:
    name: Build image without Containerfile
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4

    - run: mvn package

    - name: Build Image
      uses: redhat-actions/buildah-build@v2
      with:
        base-image: docker.io/fabric8/java-alpine-openjdk11-jre
        image: simple-restapp-image
        tags: v1
        content: |
          target/simpleRestApp-0.0.1-SNAPSHOT.jar
        entrypoint: java -jar simpleRestApp-0.0.1-SNAPSHOT.jar
        port: 8080
